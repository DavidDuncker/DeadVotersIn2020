$(document).ready(function(){$(".date-field").mask("99/99/9999");$("#btnClearName").off("click").on("click",function(){$("#FirstName").val("");$("#LastName").val("");$("#NameBirthMonth").get(0).selectedIndex=0;$("#NameBirthYear").val("");$("#ZipCode").val("");$("#FirstName-error").text("");$("#LastName-error").text("");$("#NameBirthMonth-error").text("");$("#NameBirthYear-error").text("");$("#ZipCode-error").text("");$("#FirstName").removeClass("input-validation-error").addClass("valid");$("#LastName").removeClass("input-validation-error").addClass("valid");$("#NameBirthMonth").removeClass("input-validation-error").addClass("valid");$("#NameBirthYear").removeClass("input-validation-error").addClass("valid");$("#ZipCode").removeClass("input-validation-error").addClass("valid");$("#name-Form").find($(".field-validation-error")).html("");$("#name-Form").find($(".field-validation-error")).removeClass("field-validation-error").addClass("field-validation-valid")});$("#btnClearDLN").off("click").on("click",function(){$("#Dln").val("");$("#DlnBirthMonth").get(0).selectedIndex=0;$("#DlnBirthYear").val("");$("#Dln-error").text("");$("#DlnBirthMonth-error").text("");$("#DlnBirthYear-error").text("");$("#Dln").removeClass("input-validation-error").addClass("valid");$("#DlnBirthMonth").removeClass("input-validation-error").addClass("valid");$("#DlnBirthYear").removeClass("input-validation-error").addClass("valid");$("#dln-Form").find($(".field-validation-error")).html("");$("#dln-Form").find($(".field-validation-error")).removeClass("field-validation-error").addClass("field-validation-valid")});$("#btnSearchName").off("click").on("click",function(n){if(!$("#name-Form").valid())return!1;n.preventDefault();var t={FirstName:$("#FirstName").val(),LastName:$("#LastName").val(),NameBirthMonth:$("#NameBirthMonth").val(),NameBirthYear:$("#NameBirthYear").val(),ZipCode:$("#ZipCode").val(),Dln:"",DlnBirthMonth:0,DlnBirthYear:"",DpaID:0,Months:null,VoterNotFound:!1,TransistionVoter:!1};$.ajax({method:"POST",cache:!1,url:"/Voter/SearchByName",data:t,success:function(n){$("#body").html(n);$("#page-title").text($("#hfPageTitle").val())},error:function(){QVFtoastr.Error("Voter information is not available at this time.")}})});$("#btnSearchDln").off("click").on("click",function(n){if(!$("#dln-Form").valid())return!1;n.preventDefault();var t={FirstName:"",LastName:"",NameBirthMonth:0,NameBirthYear:"",ZipCode:"",Dln:$("#Dln").val(),DlnBirthMonth:$("#DlnBirthMonth").val(),DlnBirthYear:$("#DlnBirthYear").val(),DpaID:0,Months:null,VoterNotFound:!1,TransistionVoter:!1};$.ajax({method:"POST",cache:!1,url:"/Voter/SearchByDln",data:t,success:function(n){$("#body").html(n);$("#page-title").text($("#hfPageTitle").val())},error:function(){QVFtoastr.Error("Voter information is not available at this time.")}})});$("#btnRegisterForPermAV").off("click").on("click",function(n){n.preventDefault();$.ajax({method:"POST",cache:!1,data:{VoterAddressID:$("#hfVoterAddressID").val()},url:"/Voter/RegisterForPermAV",success:function(n){$("#body").html(n);$("#page-title").text($("#hfPageTitle").val())},error:function(){QVFtoastr.Error("Sorry, we cannot process your request at this time. Please try again later or contact your local clerk.")}})});$("#btnValidateDL").off("click").on("click",function(n){var t,i,r,u,f;if(n.preventDefault(),$('#name-Form [data-valmsg-for="Birthdate"]').text(""),$('#name-Form [data-valmsg-for="Birthdate"]').removeClass("field-validation-error field-validation-valid").addClass("field-validation-valid"),!$("#name-Form").valid())return!1;if(!isDate($("#Birthdate").val()))return $('#name-Form [data-valmsg-for="Birthdate"]').text("Please enter a valid birthdate."),$('#name-Form [data-valmsg-for="Birthdate"]').removeClass("field-validation-valid").addClass("field-validation-error"),!1;if(t=moment($("#Birthdate").val(),"MM/DD/YYYY").format("YYYYMMDD"),i=moment().subtract(210,"months").format("YYYYMMDD"),t>i)return $('#name-Form [data-valmsg-for="Birthdate"]').text("You must be at least 17 1/2 years old to register to vote using this website."),$('#name-Form [data-valmsg-for="Birthdate"]').removeClass("field-validation-valid").addClass("field-validation-error"),!1;if(r=moment($("#Birthdate").val(),"MM/DD/YYYY").format("YYYY"),u=(new Date).getFullYear(),u-r>110)return $('#name-Form [data-valmsg-for="Birthdate"]').text("Please enter a valid birth year."),$('#name-Form [data-valmsg-for="Birthdate"]').removeClass("field-validation-valid").addClass("field-validation-error"),!1;f={FullName:$("#FullName").val(),Dln:$("#Dln").val(),Birthdate:$("#Birthdate").val(),EyeColor:$("#EyeColor").val(),SSN:$("#SSN").val(),Months:null,Days:null,VoterNotFound:!1};$.ajax({method:"POST",cache:!1,url:"/Voter/ValidateDL",data:f,success:function(n){$("#body").html(n);$("#page-title").text($("#hfPageTitle").val())},error:function(){QVFtoastr.Error("Sorry, we cannot process your request at this time. Please try again later or contact your local clerk.")}})});$(".transition-voter").off("click").on("click",function(n){var r=n.target.innerText,t,i;n.preventDefault();t=$(n.target).attr("id");$("html").find(".transition-voter").removeClass("disabled");$("html").find("#"+t).addClass("disabled");i={VoterID:0,VoterAddressID:$("#Voter_"+t+"__VoterAddressID").val(),CountyID:$("#Voter_"+t+"__CountyID").val(),JurisdictionID:$("#Voter_"+t+"__JurisdictionID").val(),LastDayToVote:$("#Voter_"+t+"__LastDayToVote").val(),EffectiveRegistrationDate:$("#Voter_"+t+"__EffectiveRegistrationDate").val(),DpaID:$("#Voter_"+t+"__DpaID").val(),MVIP:$("#Voter_"+t+"__MVIP").val(),IsActive:"",Heading:"",StreetRangeID:$("#Voter_"+t+"__StreetRangeID").val(),IdConfirmed:$("#Voter_"+t+"__IdConfirmed").val(),IsPermAV:$("#Voter_"+t+"__IsPermAV").val(),HidePollingLocation:$("#Voter_"+t+"__HidePollingLocation").val(),SkipPermAvText:$("#Voter_"+t+"__SkipPermAvText").val()};$.ajax({type:"POST",cache:!1,dataType:"json",url:"/Voter/SwitchVoter",data:i,success:function(n){$("#registeredVoter").html(n);$("#lblJurisdiction").append(" ("+r+")")},error:function(){QVFtoastr.Error("Voter information is not available at this time.")}})});$("#confirm-id-help").off("click").on("click",function(n){n.preventDefault();document.getElementById("confirm-id-modal").open()});document.addEventListener("collapseToggled",function(n){document.getElementById("collapseButton").setAttribute("aria-expanded",n.detail)},!1)})